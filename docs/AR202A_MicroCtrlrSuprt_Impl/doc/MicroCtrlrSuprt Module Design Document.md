---
layout: default
title: MicroCtrlrSuprt Module Design Document
nav_order: 2
parent: Component Implementation
---
{% raw %}
**Module Design Document**

**For**

**MicroCtrlrSuprt**

**7/19/17**

**Prepared For:**

**Software Engineering**

**Nexteer Automotive,**

**Saginaw, MI, USA**

**Prepared By:**

**Software Group,**

**Nexteer Automotive,**

**Saginaw, MI, USA  
<u>Change History</u>**

|                 |                |             |          |
|-----------------|----------------|-------------|----------|
| **Description** | **Author**     | **Version** | **Date** |
| Initial Version | Lucas Wendling | 1           | 7/19/17  |

**  
**

**<u>Table of Contents</u>**

[1 Introduction [5](#introduction)](#introduction)

[1.1 Purpose [5](#purpose)](#purpose)

[1.2 Scope [5](#scope)](#scope)

[2 High-Level Description
[6](#high-level-description)](#high-level-description)

[3 Design details of software module
[7](#design-details-of-software-module)](#design-details-of-software-module)

[3.1 Graphical representation of NxtrOsErrHndlg (Expected External
Intefaces)
[7](#graphical-representation-of-protected-register-write-functions)](#graphical-representation-of-protected-register-write-functions)

[3.2 Data Flow Diagram [7](#_Toc488222089)](#_Toc488222089)

[3.2.1 Component level DFD [7](#_Toc488222090)](#_Toc488222090)

[3.2.2 Function level DFD [7](#_Toc488222091)](#_Toc488222091)

[4 Constant Data Dictionary
[8](#constant-data-dictionary)](#constant-data-dictionary)

[4.1 Program (fixed) Constants
[8](#program-fixed-constants)](#program-fixed-constants)

[4.1.1 Embedded Constants [8](#embedded-constants)](#embedded-constants)

[5 Software Component Implementation
[9](#software-component-implementation)](#software-component-implementation)

[5.1 Sub-Module Functions
[9](#sub-module-functions)](#sub-module-functions)

[5.1.1 Init: [9](#init)](#init)

[5.1.2 Per: [9](#per)](#per)

[5.2 Server Runables
[9](#libraryserver-runables)](#libraryserver-runables)

[5.2.1 NxtrOsErrHndlg [9](#p1m-micro-variants)](#p1m-micro-variants)

[5.2.1.1 Design Rationale
[9](#protected-write-apis)](#protected-write-apis)

[5.2.1.2 Processing [9](#processing)](#processing)

[5.3 Interrupt Functions
[13](#interrupt-functions)](#interrupt-functions)

[5.4 Module Internal (Local) Functions
[13](#module-internal-local-functions)](#module-internal-local-functions)

[5.4.1 Local Function \#1 [13](#local-function-1)](#local-function-1)

[5.4.1.1 Design Rationale
[13](#design-rationale-6)](#design-rationale-6)

[5.4.1.2 Processing [13](#processing-6)](#processing-6)

[5.5 GLOBAL Function/Macro Definitions
[13](#global-functionmacro-definitions)](#global-functionmacro-definitions)

[5.5.1 GLOBAL Function \#1 [13](#global-function-1)](#global-function-1)

[5.5.1.1 Design Rationale
[13](#design-rationale-7)](#design-rationale-7)

[5.5.1.2 Processing [13](#processing-7)](#processing-7)

[6 Known Limitations with Design
[14](#known-limitations-with-design)](#known-limitations-with-design)

[7 UNIT TEST CONSIDERATION
[15](#unit-test-consideration)](#unit-test-consideration)

[Appendix A Abbreviations and Acronyms
[16](#abbreviations-and-acronyms)](#abbreviations-and-acronyms)

[Appendix B Glossary [17](#glossary)](#glossary)

[Appendix C References [18](#references)](#references)

# Introduction

## Purpose

This design document will capture the design of the Nexteer Mcu Support
Library (NxtrMcuSuprtLib) functionality. This is the only portion of
this component that is designed by Nexteer rather than generated by a
3^rd^ party tool.

## Scope

The following definitions are used throughout this document:

-   **<u>Shall</u>**: indicates a mandatory requirement without
    exception in compliance.

-   **<u>Should</u>**: indicates a mandatory requirement; exceptions
    allowed only with documented justification.

-   **<u>May</u>**: indicates an optional action.

# High-Level Description

The Nexteer designed portions of this component include the definition
of some inline functions for supporting the Renesas microcontroller.
These are described in detail in the following sections. Note that this
component supports multiple files to support the different
microcontroller variants used by Nexteer.

# Design details of software module

## Graphical representation of Protected Register Write Functions

In general, the design of all protected write functions contained in
this module follow the following high-level flow:

![](ElectricPowerSteering_Renesas_FORD_T3T6_website/docs/AR202A_MicroCtrlrSuprt_Impl/doc/mediax/media/image1.emf)

## Graphical representation of Nexteer Software Reset Function

![](ElectricPowerSteering_Renesas_FORD_T3T6_website/docs/AR202A_MicroCtrlrSuprt_Impl/doc/mediax/media/image2.emf)

## Graphical representation of Nexteer Software Reset From Exception Function

![](ElectricPowerSteering_Renesas_FORD_T3T6_website/docs/AR202A_MicroCtrlrSuprt_Impl/doc/mediax/media/image3.emf)

# Constant Data Dictionary

## Program (fixed) Constants

### Embedded Constants

#### Local Constants

| Constant Name | Resolution | Units | Value |
|---------------|------------|-------|-------|
| None          |            |       |       |

# Software Component Implementation

## Sub-Module Functions

## Init: 

*None*

###  [section]

## Per: 

*None*

## Library/Server Runables 

## P1M Micro Variants

#### Protected Write APIs

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegPortJ_u32</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint32</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint32</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFC24014</p>
<p>0xFFC24018</p>
<p>0xFFC24028</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-1]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegPort0_u32</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint32</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint32</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFC14014</p>
<p>0xFFC14018</p>
<p>0xFFC1403C</p>
<p>0xFFC14028</p>
<p>0xFFC10030</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-2]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegPort1_u32</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint32</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint32</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFC14054</p>
<p>0xFFC14058</p>
<p>0xFFC1407C</p>
<p>0xFFC14068</p>
<p>0xFFC10070</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-3]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegPort2_u32</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint32</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint32</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFC14094</p>
<p>0xFFC14098</p>
<p>0xFFC140BC</p>
<p>0xFFC140A8</p>
<p>0xFFC100B0</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-4]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegPort3_u32</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint32</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint32</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFC140D4</p>
<p>0xFFC140D8</p>
<p>0xFFC140FC</p>
<p>0xFFC140E8</p>
<p>0xFFC100F0</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-5]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegPort4_u32</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint32</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint32</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFC14114</p>
<p>0xFFC14118</p>
<p>0xFFC1413C</p>
<p>0xFFC14128</p>
<p>0xFFC10130</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-6]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegPort5_u32</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint32</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint32</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFC14154</p>
<p>0xFFC14158</p>
<p>0xFFC1417C</p>
<p>0xFFC14168</p>
<p>0xFFC10170</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-7]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegSys_u08</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint8</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint8</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFF82838</p>
<p>0xFFF82830</p>
<p>0xFFF8282C</p>
<p>0xFFF8283C</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-8]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegSys_u32</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint32</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint32</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFF82840</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-9]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegSysClmac_u32</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint32</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint32</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFF82C00</p>
<p>0xFFF8AC18</p>
<p>0xFFF89080</p>
<p>0xFFF890C0</p>
<p>0xFFF89200</p>
<p>0xFFF8A440</p>
<p>0xFFF88204</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-10]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegClma0_u08</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint8</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint8</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFF88400</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-11]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegClma1_u08</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint8</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint8</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFF88420</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-12]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegClma2_u08</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint8</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint8</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFF88440</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-13]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegClma3_u08</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint8</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint8</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFF88460</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-14]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegEcmm_u08</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint8</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint8</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFD60000</p>
<p>0xFFD60004</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-15]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegEcmc_u08</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint8</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint8</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFD61000</p>
<p>0xFFD61004</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-16]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegEcm_u08</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint8</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint8</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFD62000</p>
<p>0xFFD6203C</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-17]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegEcm_u16</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint16</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint16</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFD62044</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-18]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegEcm_u32</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint32</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint32</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFD62004</p>
<p>0xFFD62008</p>
<p>0xFFD6200C</p>
<p>0xFFD62010</p>
<p>0xFFD62014</p>
<p>0xFFD62018</p>
<p>0xFFD6201C</p>
<p>0xFFD62020</p>
<p>0xFFD62024</p>
<p>0xFFD62028</p>
<p>0xFFD62034</p>
<p>0xFFD62038</p>
<p>0xFFD62048</p>
<p>0xFFD6204C</p>
<p>0xFFD62050</p>
<p>0xFFD62054</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-19]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegFlmd_u32</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint32</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint32</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFA00000</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

##### Design Rationale

*These functions will perform the correct sequence of writes to
protected registers. These are designed such that the function attempts
the write sequence up to 3 times with increasing levels of interrupt
disabling for each attempt (no interrupts disabled-\>Os interrupts
disabled-\>All interrupts disabled). Since these functions are broken
out based on the peripheral register set to be written and width of
register write, DET error checking is done to ensure the implementer is
using the correct API. A DET error is also set if for some reason the 3
write attempts all fail.*

#####  Processing

*See source code for implementation.*

#### Nexteer Software Reset

#####  [section-20]

|                      |                   |           |      |      |
|----------------------|-------------------|-----------|------|------|
| **Function Name**    | NxtrSwRst         | Type      | Min  | Max  |
| **Arguments Passed** | McuDiagcData0_Arg | McuDiagc1 | Full | Full |
|                      | McuDiagcData1_Arg | uint32    | Full | Full |
| **Return Value**     | N/A (void)        |           |      |      |

##### Design Rationale

*This function exists to ensure that before calling a reset, the caller
is properly indicating what the source of the reset is and that this
type of reset is part of the known list of reset causes. Additionally,
the second parameter is able to store more information along with the
reset. This processing is done in a separate component, but the
interface is the “SetMcuDiagcIdnData” API. Additionally, the Renesas SAN
indicates that before any software reset, the register containing the
reset cause flags shall be cleared. The Mcu_PerformReset() function is
then called to perform the actual reset. In the event that there is an
issue where this function doesn’t actually perform a reset as expected,
a while loop is entered at the end of this function, which could likely
lead to a hardware watchdog timeout if this loop is entered.*

#####  Processing

*See source code for implementation.*

#### Nexteer Software Reset From Exception

#####  [section-21]

|                      |                    |           |      |      |
|----------------------|--------------------|-----------|------|------|
| **Function Name**    | NxtrSwRstFromExcpn | Type      | Min  | Max  |
| **Arguments Passed** | McuDiagcData0_Arg  | McuDiagc1 | Full | Full |
|                      | McuDiagcData1_Arg  | uint32    | Full | Full |
| **Return Value**     | N/A (void)         |           |      |      |

##### Design Rationale

*This function exists to ensure that before calling a reset from a
hardware exception, the caller is properly indicating what the source of
the reset is and that this type of reset is part of the known list of
reset causes. This function will clear all ECM status registers prior to
issuing a reset to ensure a known state of these registers after the
reset. Additionally, the second parameter to this function is used to
store more information along with the reset.*

*In an effort to try to capture useful data relating to the exception,
the internal logic of this function will attempt to at least store the
register value that contains the program counter of when the exception
occurred. In order for this to work, a value of “0x0000000” must be
passed to the “McuDiagcData1_Arg” argument in the case of an FE
exception, and an value of “0xFFFFFFFF” must be passed to the
“McuDiagcData1_Arg” argument in the case of an EI exception. In case of
any other values in the “McuDiagcData1_Arg” , this function assumes the
caller of this function has already setup data that is desired to be
stored in this argument, and therefore leaves it unmodified.*

*This storage of this reset information is done in a separate component,
but the interface is the “SetMcuDiagcIdnData” API.*

*This function also intentionally attempts to write the error output pin
to an “error” state as a redundant mechanisms for putting the system
into a safe state in the event that the software reset (which also
should drive the system to a safe state) doesn’t properly execute.*

*Additionally, the Renesas SAN indicates that before any software reset,
the register containing the reset cause flags shall be cleared. The
Mcu_PerformReset() function is then called to perform the actual reset.
In the event that there is an issue where this function doesn’t actually
perform a reset as expected, a while loop is entered at the end of this
function, which could likely lead to a hardware watchdog timeout if this
loop is entered.*

#####  Processing

*See source code for implementation.*

## P1XC Micro Variants

#### Protected Write APIs

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegEcmm0_u32</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint32</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint32</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFD60000</p>
<p>0xFFD60004</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-22]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegEcmc0_u32</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint32</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint32</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFD61000</p>
<p>0xFFD61004</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-23]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegEcm0_u32</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint32</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint32</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFD62000</p>
<p>0xFFD62004</p>
<p>0xFFD62008</p>
<p>0xFFD6200C</p>
<p>0xFFD62010</p>
<p>0xFFD62014</p>
<p>0xFFD62018</p>
<p>0xFFD6201C</p>
<p>0xFFD62020</p>
<p>0xFFD62024</p>
<p>0xFFD62028</p>
<p>0xFFD6202C</p>
<p>0xFFD62030</p>
<p>0xFFD62034</p>
<p>0xFFD62038</p>
<p>0xFFD6203C</p>
<p>0xFFD62048</p>
<p>0xFFD6204C</p>
<p>0xFFD62050</p>
<p>0xFFD62054</p>
<p>0xFFD6205C</p>
<p>0xFFD62060</p>
<p>0xFFD62064</p>
<p>0xFFD62068</p>
<p>0xFFD6206C</p>
<p>0xFFD62070</p>
<p>0xFFD62074</p>
<p>0xFFD62078</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

#####  [section-24]

<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 42%" />
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<tbody>
<tr class="odd">
<td><strong>Function Name</strong></td>
<td>WrProtdRegFlmd_u32</td>
<td>Type</td>
<td>Min</td>
<td>Max</td>
</tr>
<tr class="even">
<td><strong>Arguments Passed</strong></td>
<td>WrVal_Arg</td>
<td>uint32</td>
<td>Full</td>
<td>Full</td>
</tr>
<tr class="odd">
<td></td>
<td>WrAddr_Arg</td>
<td>pointer to volatile uint32</td>
<td colspan="2"><p>Valid values:</p>
<p>0xFFA00000</p></td>
</tr>
<tr class="even">
<td><strong>Return Value</strong></td>
<td>N/A (void)</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

##### Design Rationale

*These functions will perform the correct sequence of writes to
protected registers. These are designed such that the function attempts
the write sequence up to 3 times with increasing levels of interrupt
disabling for each attempt (no interrupts disabled-\>Os interrupts
disabled-\>All interrupts disabled). Since these functions are broken
out based on the peripheral register set to be written and width of
register write, DET error checking is done to ensure the implementer is
using the correct API. A DET error is also set if for some reason the 3
write attempts all fail.*

#####  Processing

*See source code for implementation.*

#### Nexteer Software Reset

#####  [section-25]

|                      |                   |            |      |      |
|----------------------|-------------------|------------|------|------|
| **Function Name**    | NxtrSwRst         | Type       | Min  | Max  |
| **Arguments Passed** | McuDiagcData0_Arg | P1mcDiagc1 | Full | Full |
|                      | McuDiagcData1_Arg | uint32     | Full | Full |
| **Return Value**     | N/A (void)        |            |      |      |

##### Design Rationale

*This function exists to ensure that before calling a reset, the caller
is properly indicating what the source of the reset is and that this
type of reset is part of the known list of reset causes. Additionally,
the second parameter is able to store more information along with the
reset. This processing is done in a separate component, but the
interface is the “SetMcuDiagcIdnData” API. Additionally, the Renesas SAN
indicates that before any software reset, the register containing the
reset cause flags shall be cleared. The Mcu_PerformReset() function is
then called to perform the actual reset. In the event that there is an
issue where this function doesn’t actually perform a reset as expected,
a while loop is entered at the end of this function, which could likely
lead to a hardware watchdog timeout if this loop is entered.*

#####  Processing

*See source code for implementation.*

#### Nexteer Software Reset From Exception

#####  [section-26]

|                      |                    |            |      |      |
|----------------------|--------------------|------------|------|------|
| **Function Name**    | NxtrSwRstFromExcpn | Type       | Min  | Max  |
| **Arguments Passed** | McuDiagcData0_Arg  | P1mcDiagc1 | Full | Full |
|                      | McuDiagcData1_Arg  | uint32     | Full | Full |
| **Return Value**     | N/A (void)         |            |      |      |

##### Design Rationale

*This function exists to ensure that before calling a reset from a
hardware exception, the caller is properly indicating what the source of
the reset is and that this type of reset is part of the known list of
reset causes. This function will clear all ECM status registers prior to
issuing a reset to ensure a known state of these registers after the
reset. Additionally, the second parameter to this function is used to
store more information along with the reset.*

*In an effort to try to capture useful data relating to the exception,
the internal logic of this function will attempt to at least store the
register value that contains the program counter of when the exception
occurred. In order for this to work, a value of “0x0000000” must be
passed to the “McuDiagcData1_Arg” argument in the case of an FE
exception, and an value of “0xFFFFFFFF” must be passed to the
“McuDiagcData1_Arg” argument in the case of an EI exception. In case of
any other values in the “McuDiagcData1_Arg” , this function assumes the
caller of this function has already setup data that is desired to be
stored in this argument, and therefore leaves it unmodified.*

*This storage of this reset information is done in a separate component,
but the interface is the “SetMcuDiagcIdnData” API.*

*This function also intentionally attempts to write the error output pin
to an “error” state as a redundant mechanisms for putting the system
into a safe state in the event that the software reset (which also
should drive the system to a safe state) doesn’t properly execute.*

*Additionally, the Renesas SAN indicates that before any software reset,
the register containing the reset cause flags shall be cleared. The
Mcu_PerformReset() function is then called to perform the actual reset.
In the event that there is an issue where this function doesn’t actually
perform a reset as expected, a while loop is entered at the end of this
function, which could likely lead to a hardware watchdog timeout if this
loop is entered.*

#####  Processing

*See source code for implementation.*

## Interrupt Functions

*None*

## Module Internal (Local) Functions

## Local Function \#1

|                      |     |      |     |     |
|----------------------|-----|------|-----|-----|
| **Function Name**    |     | Type | Min | Max |
| **Arguments Passed** |     |      |     |     |
|                      |     |      |     |     |
| **Return Value**     |     |      |     |     |

## Design Rationale

## Processing

## GLOBAL Function/Macro Definitions

## GLOBAL Function \#1

|                      |     |      |     |     |
|----------------------|-----|------|-----|-----|
| **Function Name**    |     | Type | Min | Max |
| **Arguments Passed** |     |      |     |     |
|                      |     |      |     |     |
| **Return Value**     |     |      |     |     |

## Design Rationale

## Processing

# Known Limitations with Design

Functionality for P1XC devices that is currently supported by this
component is only targeted for P1MC variants (not designed for P1HC
variants).

# UNIT TEST CONSIDERATION

####### Abbreviations and Acronyms

| **Abbreviation or Acronym** | **Description** |
|-----------------------------|-----------------|
|                             |                 |
|                             |                 |

####### Glossary

**Note**: Terms and definitions from the source “Nexteer Automotive”
take precedence over all other definitions of the same term. Terms and
definitions from the source “Nexteer Automotive” are formulated from
multiple sources, including the following:

-   ISO 9000

-   ISO/IEC 12207

-   ISO/IEC 15504

-   Automotive SPICE® Process Reference Model (PRM)

-   Automotive SPICE® Process Assessment Model (PAM)

-   ISO/IEC 15288

-   ISO 26262

-   IEEE Standards

-   SWEBOK

-   PMBOK

-   Existing Nexteer Automotive documentation

| **Term** | **Definition**         | **Source** |
|----------|------------------------|------------|
| MDD      | Module Design Document |            |
| DFD      | Data Flow Diagram      |            |

####### References

| **Ref. \#** | **Title**                                                                                                                                                           | **Version**       |
|-------|-------------------------------------------------|-----------------|
| 1           | AUTOSAR Specification of Memory Mapping (Link:[AUTOSAR_SWS_MemoryMapping.pdf](http://www.autosar.org/download/R4.0/AUTOSAR_SWS_MemoryMapping.pdf))                  | v1.3.0 R4.0 Rev 2 |
| 2           | MDD Guideline EA4 01.00.01.docx                                                                                                                                     | EA4 01.00.01      |
| 3           | [Software Naming Conventions.doc](http://misagweb01.nexteer.com/eRoomReq/Files/erooms8/NextGeneration/0_fc55f/Software%20Naming%20Conventions%2003x(In%20Work).doc) | 1.0               |
| 4           | EA4 Software Naming Conventions 01.01.00.docx                                                                                                                       | 01.01.00          |

{% endraw %}